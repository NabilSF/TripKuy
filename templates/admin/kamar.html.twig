{% extends 'base.html.twig' %}
{% block title %}Admin Dashboard{% endblock %}
{% block body %}
    <div class="flex min-h-screen">
        {% include "sidebar.html.twig" %}
        <main class="flex-1 lg:ml-64 min-h-screen flex flex-col">
            <header class="h-[80px] bg-white/80 backdrop-blur-md border-b border-slate-200 px-8 flex items-center justify-between sticky top-0 z-40">
                <div class="flex items-center gap-4">
                    <button class="lg:hidden p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors" onclick="toggleSidebar()">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                    <div>
                        <h1 class="font-poppins font-bold text-2xl text-slate-800 tracking-tight">Management Kamar</h1>
                        <p id="currentDate" class="text-xs text-slate-400 font-medium mt-0.5"></p>
                    </div>
                </div>

                <div class="flex items-center gap-4 p-1 pr-4 bg-slate-50 rounded-full border border-slate-100 hover:border-primary/30 transition-colors cursor-pointer group">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-tr from-primary to-emerald-400 flex items-center justify-center text-white font-bold border-2 border-white shadow-sm transition-transform group-hover:rotate-6">
                        AK
                    </div>
                    <div class="text-left hidden sm:block">
                        <h4 class="text-xs font-bold text-slate-800 leading-none">Admin Hotel</h4>
                        <p class="text-[10px] text-slate-400 font-semibold mt-1 uppercase tracking-tighter">Super Admin</p>
                    </div>
                </div>
            </header>

            <div class="p-8">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-2xl border border-slate-200 flex items-center gap-5 shadow-sm">
                        <div class="w-12 h-12 bg-primary-light text-primary rounded-xl flex items-center justify-center text-xl">
                            <i class="fas fa-door-open"></i>
                        </div>
                        <div>
                            <p class="text-xs font-bold text-slate-400 uppercase tracking-wider">Total Kamar</p>
                            <h3 class="text-2xl font-bold text-slate-800">124</h3>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-2xl border border-slate-200 flex items-center gap-5 shadow-sm">
                        <div class="w-12 h-12 bg-emerald-50 text-emerald-500 rounded-xl flex items-center justify-center text-xl">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div>
                            <p class="text-xs font-bold text-slate-400 uppercase tracking-wider">Tersedia</p>
                            <h3 class="text-2xl font-bold text-slate-800">86</h3>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-2xl border border-slate-200 flex items-center gap-5 shadow-sm">
                        <div class="w-12 h-12 bg-amber-50 text-amber-500 rounded-xl flex items-center justify-center text-xl">
                            <i class="fas fa-broom"></i>
                        </div>
                        <div>
                            <p class="text-xs font-bold text-slate-400 uppercase tracking-wider">Perbaikan</p>
                            <h3 class="text-2xl font-bold text-slate-800">12</h3>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden">
                    <div class="p-8 border-b border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-6">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-primary text-white rounded-2xl flex items-center justify-center shadow-lg shadow-primary/20">
                                <i class="fas fa-list-ul"></i>
                            </div>
                            <div>
                                <h3 class="font-poppins font-bold text-xl text-slate-800 leading-tight">Daftar Tipe Kamar</h3>
                                <p class="text-sm text-slate-400 font-medium">Kelola informasi spesifikasi kamar</p>
                            </div>
                        </div>
                        <button onclick="addRoom()" class="w-full sm:w-auto px-6 py-3 bg-primary hover:bg-primary-dark text-white rounded-2xl text-sm font-bold transition-all shadow-xl shadow-primary/20 flex items-center justify-center gap-3">
                            <i class="fas fa-plus text-xs"></i> Tambah Kamar
                        </button>
                    </div>

                    <div class="bg-white rounded-[2.5rem] p-5 border border-slate-100 hover:shadow-2xl hover:shadow-slate-200/50 transition-all duration-500 group">
                        <div class="relative h-48 rounded-[2rem] overflow-hidden mb-6">
                            {# Mengambil gambar dari hotel yang memiliki kamar ini #}
                            {% set gambarHotel = kamar.hotel.gambarHotels|first %}

                            <img
                                src="{{ gambarHotel ? asset('uploads/images/' ~ gambarHotel.fileName) : 'https://images.unsplash.com/photo-1590490360182-c33d57733427?auto=format&fit=crop&w=500' }}"
                                alt="{{ kamar.namaKamar }}"
                                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                            >
                            <div class="absolute top-4 right-4 bg-white/90 backdrop-blur px-4 py-2 rounded-2xl shadow-sm">
                                <span class="text-primary font-bold text-sm">Rp {{ kamar.harga|number_format(0, ',', '.') }}</span>
                            </div>
                        </div>
                        {# ... detail kamar ... #}
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('-translate-x-full');
        }

        function updateDate() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('currentDate').textContent = `Management Kamar â€¢ ${now.toLocaleDateString('id-ID', options)}`;
        }

        function addRoom() { alert('Modal Tambah Kamar akan muncul'); }
        function editRoom(id) { alert('Edit Kamar: ' + id); }
        function viewStats(id) { alert('Statistik Kamar: ' + id); }

        document.addEventListener('DOMContentLoaded', () => {
            renderRooms();
            updateDate();
        });
    </script>
{% endblock %}
